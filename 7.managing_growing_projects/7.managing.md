# Gérer les projets en croissance avec des packages, des crates et des modules

Au fur et à mesure que vous écrivez des programmes volumineux, l'organisation de votre code deviendra de plus en plus importante. En regroupant les fonctionnalités connexes et en séparant le code avec des caractéristiques distinctes, vous clarifierez où trouver le code qui implémente une fonctionnalité particulière et où aller pour changer le fonctionnement d'une fonctionnalité.

Les programmes que nous avons écrits jusqu'à présent se trouvent dans un seul module dans un seul fichier. À mesure qu'un projet grandit, vous devez organiser le code en le divisant en plusieurs modules puis en plusieurs fichiers. Un package peut contenir plusieurs crates binaires et éventuellement une crate de bibliothèque. À mesure qu'un package grandit, vous pouvez extraire des parties en crates séparées qui deviennent des dépendances externes. Ce chapitre couvre toutes ces techniques. Pour des projets très volumineux composés d'un ensemble de packages interreliés qui évoluent ensemble, Cargo fournit des espaces de travail, que nous aborderons dans la section "Espaces de travail Cargo" du chapitre 14.

Nous parlerons également de l'encapsulation des détails de l'implémentation, ce qui vous permet de réutiliser le code à un niveau plus élevé : une fois que vous avez implémenté une opération, un autre code peut appeler votre code via son interface publique sans avoir à savoir comment fonctionne l'implémentation. La façon dont vous écrivez le code définit quelles parties sont publiques pour que d'autres codes puissent les utiliser et quelles parties sont des détails d'implémentation privés que vous vous réservez le droit de modifier. C'est une autre façon de limiter la quantité de détails que vous devez garder en tête.

Un concept connexe est la portée : le contexte imbriqué dans lequel le code est écrit a un ensemble de noms définis comme étant "dans la portée". Lors de la lecture, de l'écriture et de la compilation du code, les programmeurs et les compilateurs doivent savoir si un nom particulier à un endroit particulier se réfère à une variable, une fonction, une struct, un enum, un module, une constante ou un autre élément et ce que cet élément signifie. Vous pouvez créer des portées et changer quels noms sont dans ou hors de la portée. Vous ne pouvez pas avoir deux éléments portant le même nom dans la même portée ; des outils sont disponibles pour résoudre les conflits de noms.

Rust a un certain nombre de fonctionnalités qui vous permettent de gérer l'organisation de votre code, y compris quels détails sont exposés, quels détails sont privés et quels noms sont dans chaque portée dans vos programmes. Ces fonctionnalités, parfois collectivement appelées le système de modules, incluent :

- **Packages** : Une fonctionnalité de Cargo qui vous permet de construire, tester et partager des crates.
- **Crates** : Un arbre de modules qui produit une bibliothèque ou un exécutable.
- **Modules et use** : Vous permettent de contrôler l'organisation, la portée et la confidentialité des chemins.
- **Paths** : Une façon de nommer un élément, tel qu'une struct, une fonction ou un module.

Dans ce chapitre, nous couvrirons toutes ces fonctionnalités, discuterons de leur interaction et expliquerons comment les utiliser pour gérer la portée. À la fin, vous devriez avoir une compréhension solide du système de modules et être capable de travailler avec les portées comme un pro !
